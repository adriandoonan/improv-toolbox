---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Breadcrumbs from "../../components/Breadcrumbs.astro";
import NotesPanel from "../../components/NotesPanel.astro";
import { getCollection, getEntry } from "astro:content";
export async function getStaticPaths() {
  const forms = await getCollection("forms");
  return forms.map((form) => ({ params: { slug: form.slug } }));
}
const { slug } = Astro.params;
const form = await getEntry("forms", slug);
---

<BaseLayout>
  <Breadcrumbs
    items={[{ label: "Forms", href: "/forms" }, { label: form?.data.name }]}
  />
  <h1>{form?.data.name}</h1>
  <p>{form?.data.shortDescription}</p>
  <article>
    <p>{form?.data.description}</p>
  </article>
  <p><a href={form?.data.source} target="_blank">Source</a></p>
  <NotesPanel
    contentId={form?.slug ?? ""}
    contentType="form"
    contentTitle={form?.data.name ?? "Form"}
  />
</BaseLayout>
